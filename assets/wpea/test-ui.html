<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WPE_Admin • Full Demo</title>

  <!-- Framework CSS -->
  <link rel="stylesheet" href="../assets/css/wpea-framework.css" />

  <!-- Demo-only layout (container-query, no media) -->
  <style>
    .demo-shell { /* grid shell with header + sidebar + main */
      container-type: inline-size;
      display: grid;
      grid-template-columns: 260px 1fr;
      grid-template-rows: auto 1fr;
      min-height: 100dvh;
      gap: 0;
      background: var(--wpea-surface--bg);
      color: var(--wpea-surface--text);
    }
    .demo-header {
      grid-column: 1 / -1; grid-row: 1;
      position: sticky; top: 0; z-index: 20;
      background: var(--wpea-surface--panel);
      border-block-end: 1px solid var(--wpea-surface--border);
      padding-block: var(--wpea-space--sm);
      padding-inline: var(--wpea-space--lg);
      display:flex; align-items:center; justify-content:space-between;
    }
    .demo-sidebar {
      grid-column: 1; grid-row: 2;
      background: var(--wpea-surface--panel);
      border-inline-end: 1px solid var(--wpea-surface--border);
      display: flex; flex-direction: column; gap: var(--wpea-space--md);
      padding-block: var(--wpea-space--lg);
      padding-inline: var(--wpea-space--md);
      /* sidebar mode for density tweaks */
      --wpea-mode: sidebar;
    }
    .demo-main {
      grid-column: 2; grid-row: 2;
      padding-block: var(--wpea-space--lg);
      padding-inline: var(--wpea-space--lg);
      display: flex; flex-direction: column; gap: var(--wpea-space--lg);
    }

    /* Container-query collapse (no media) */
    @container (max-width: 47.99rem) {
      .demo-shell {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
      }
      .demo-header  { grid-column: 1; grid-row: 1; }
      .demo-main    { grid-column: 1; grid-row: 2; }
      .demo-sidebar { grid-column: 1; grid-row: 3; border-inline-end: 0; border-block-start: 1px solid var(--wpea-surface--border); }
    }

    /* Demo nav */
    .demo-nav a {
      display: block; text-decoration: none; color: inherit;
      padding-block: .55rem; padding-inline: .7rem;
      border-radius: var(--wpea-radius--sm);
      transition: background var(--wpea-anim-duration--fast);
    }
    .demo-nav a:hover { background: var(--wpea-surface--muted); }
    .demo-nav a[aria-current="page"] {
      background: var(--wpea-color--primary-t-20);
      color: var(--wpea-color--primary);
    }

    /* Subtle lifts on cards in main */
    .demo-main .wpea-card:hover {
      box-shadow: var(--wpea-shadow--l);
      transform: translateY(-2px);
      transition: transform var(--wpea-anim-duration--fast), box-shadow var(--wpea-anim-duration--fast);
    }
  </style>
</head>

<!-- Toggle dark mode by adding/removing .wpea-dark on <body> -->
<body class="wpea wpea-cq" style="--wpea-density: comfy;">
  <div class="demo-shell">

    <!-- HEADER -->
    <header class="demo-header">
      <div class="wpea-cluster">
        <strong class="wpea-text-lg">WPE_Admin</strong>
        <span class="badge badge--primary">v1.0</span>
      </div>
      <div class="wpea-cluster">
        <button class="wpea-btn wpea-btn--ghost wpea-hide-md-down" id="btn-compact">Compact</button>
        <button class="wpea-btn wpea-btn--secondary">New Item</button>
        <button class="wpea-btn wpea-btn--primary" id="btn-dark">Dark Mode</button>
      </div>
    </header>

    <!-- SIDEBAR -->
    <aside class="demo-sidebar">
      <nav class="demo-nav wpea-stack">
        <div class="wpea-label">Navigation</div>
        <a href="#" aria-current="page">Dashboard</a>
        <a href="#">Orders</a>
        <a href="#">Customers</a>
        <a href="#">Reports</a>
        <a href="#">Settings</a>
      </nav>

      <div class="wpea-panel">
        <div class="wpea-panel__header">
          <div class="wpea-heading wpea-heading--sm">Quick Filters</div>
        </div>
        <div class="wpea-stack">
          <div class="wpea-field">
            <label class="wpea-label" for="q">Search</label>
            <input id="q" class="wpea-input" placeholder="Type to filter…" />
          </div>
          <div class="wpea-field">
            <label class="wpea-label" for="seg">Segment</label>
            <select id="seg" class="wpea-select">
              <option>All</option>
              <option>Active</option>
              <option>Churn risk</option>
            </select>
          </div>
          <div class="wpea-control" aria-label="Only with issues">
            <div class="wpea-switch" role="switch" aria-checked="false" tabindex="0" id="sw-issues"></div>
            <label for="sw-issues">Only with issues</label>
          </div>
        </div>
      </div>

      <div class="wpea-card">
        <div class="wpea-card__title">Usage</div>
        <div class="wpea-text-muted">Container queries at work — resize me.</div>
        <hr class="wpea-divider" />
        <div class="wpea-cluster">
          <span class="badge badge--primary">CQ: on</span>
          <span class="badge" id="badge-density">Density: comfy</span>
          <span class="badge" id="badge-theme">Theme: light</span>
        </div>
      </div>
    </aside>

    <!-- MAIN -->
    <main class="demo-main">
      <!-- ALERTS -->
      <section class="wpea-cluster">
        <div class="wpea-alert wpea-alert--success">All systems nominal.</div>
        <div class="wpea-alert wpea-alert--warning">2 integrations need attention.</div>
        <div class="wpea-alert wpea-alert--danger">API rate limit nearing quota.</div>
      </section>

      <!-- TYPOGRAPHY -->
      <section class="wpea-card">
        <div class="wpea-card__header">
          <div class="wpea-card__title">Typography</div>
        </div>
        <div class="wpea-stack">
          <div class="wpea-text-4xl">Text 4XL</div>
          <div class="wpea-text-3xl">Text 3XL</div>
          <div class="wpea-text-2xl">Text 2XL</div>
          <div class="wpea-text-xl">Text XL</div>
          <div class="wpea-text-lg">Text LG</div>
          <div class="wpea-text-md">Text MD (base)</div>
          <div class="wpea-text-sm">Text SM</div>
          <div class="wpea-text-xs">Text XS</div>
        </div>
      </section>

      <!-- METRIC CARDS -->
      <section class="wpea-grid-responsive">
        <div class="wpea-card">
          <div class="wpea-card__title">Revenue</div>
          <div class="wpea-heading wpea-heading--lg">$84,120</div>
          <div class="wpea-card__sub">Last 30 days</div>
          <div class="wpea-card__actions">
            <button class="wpea-btn wpea-btn--ghost">Details</button>
            <button class="wpea-btn wpea-btn--secondary">Export</button>
          </div>
        </div>
        <div class="wpea-card">
          <div class="wpea-card__title">Active Users</div>
          <div class="wpea-heading wpea-heading--lg">12,431</div>
          <div class="wpea-card__sub">+4.1% WoW</div>
          <div class="wpea-card__actions">
            <button class="wpea-btn wpea-btn--ghost">Details</button>
          </div>
        </div>
        <div class="wpea-card wpea-card--hover">
          <div class="wpea-card__title">Errors</div>
          <div class="wpea-heading wpea-heading--lg">37</div>
          <div class="wpea-card__sub">Last 24h</div>
          <div class="wpea-card__actions">
            <button class="wpea-btn wpea-btn--primary">Investigate</button>
          </div>
        </div>
        <div class="wpea-card">
          <div class="wpea-card__title">NPS</div>
          <div class="wpea-heading wpea-heading--lg">58</div>
          <div class="wpea-card__sub">Good</div>
          <div class="wpea-card__actions">
            <button class="wpea-btn wpea-btn--ghost">Breakdown</button>
          </div>
        </div>
      </section>

      <!-- TABLE -->
      <section class="wpea-card">
        <div class="wpea-card__header">
          <div class="wpea-card__title">Recent Orders</div>
          <div class="wpea-cluster">
            <button class="wpea-btn wpea-btn--ghost">Refresh</button>
            <button class="wpea-btn wpea-btn--secondary">Export CSV</button>
          </div>
        </div>
        <table class="wpea-table">
          <thead>
            <tr>
              <th>Order</th>
              <th>Customer</th>
              <th>Status</th>
              <th>Total</th>
              <th class="wpea-hide-md-down">Date</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>#10234</td>
              <td>Jane Cooper</td>
              <td><span class="badge badge--success">Paid</span></td>
              <td>$129.00</td>
              <td class="wpea-hide-md-down">2025-10-01</td>
              <td style="text-align:end;">
                <div class="wpea-cluster">
                  <button class="wpea-btn wpea-btn--ghost">View</button>
                  <button class="wpea-btn wpea-btn--primary">Refund</button>
                </div>
              </td>
            </tr>
            <tr>
              <td>#10233</td>
              <td>Wade Warren</td>
              <td><span class="badge badge--warning">Pending</span></td>
              <td>$89.00</td>
              <td class="wpea-hide-md-down">2025-09-30</td>
              <td style="text-align:end;">
                <div class="wpea-cluster">
                  <button class="wpea-btn wpea-btn--ghost">View</button>
                  <button class="wpea-btn wpea-btn--secondary">Capture</button>
                </div>
              </td>
            </tr>
            <tr>
              <td>#10232</td>
              <td>Esther Howard</td>
              <td><span class="badge badge--danger">Failed</span></td>
              <td>$59.00</td>
              <td class="wpea-hide-md-down">2025-09-30</td>
              <td style="text-align:end;">
                <div class="wpea-cluster">
                  <button class="wpea-btn wpea-btn--ghost">Retry</button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- FORM PANEL -->
      <section class="wpea-panel">
        <div class="wpea-panel__header">
          <div class="wpea-heading wpea-heading--md">Edit Product</div>
          <div class="wpea-cluster">
            <button class="wpea-btn wpea-btn--ghost">Discard</button>
            <button class="wpea-btn wpea-btn--primary">Save</button>
          </div>
        </div>

        <div class="wpea-grid-responsive">
          <div class="wpea-card">
            <div class="wpea-heading wpea-heading--sm">Basic Info</div>
            <div class="wpea-stack">
              <div class="wpea-field">
                <label for="name" class="wpea-label">Name</label>
                <input id="name" class="wpea-input" placeholder="e.g. Cozy Hoodie" />
                <p class="wpea-help">Shown to customers.</p>
              </div>
              <div class="wpea-field">
                <label for="sku" class="wpea-label">SKU</label>
                <input id="sku" class="wpea-input" placeholder="SKU-001" />
              </div>
              <div class="wpea-field">
                <label for="desc" class="wpea-label">Description</label>
                <textarea id="desc" class="wpea-textarea" rows="4" placeholder="Write a short description…"></textarea>
              </div>
            </div>
          </div>

          <div class="wpea-card">
            <div class="wpea-heading wpea-heading--sm">Pricing</div>
            <div class="wpea-grid-2">
              <div class="wpea-field">
                <label for="price" class="wpea-label">Price</label>
                <input id="price" class="wpea-input" type="number" step="0.01" value="59.00" />
              </div>
              <div class="wpea-field">
                <label for="sale" class="wpea-label">Sale Price</label>
                <input id="sale" class="wpea-input" type="number" step="0.01" />
              </div>
            </div>
            <div class="wpea-field">
              <label for="tax" class="wpea-label">Tax Class</label>
              <select id="tax" class="wpea-select">
                <option>Standard</option>
                <option>Reduced</option>
                <option>Zero</option>
              </select>
            </div>
            <div class="wpea-control" aria-label="Charge shipping">
              <div class="wpea-switch" role="switch" aria-checked="true" tabindex="0"></div>
              <label>Requires shipping</label>
            </div>
          </div>

          <div class="wpea-card">
            <div class="wpea-heading wpea-heading--sm">Inventory</div>
            <div class="wpea-grid-3">
              <div class="wpea-field">
                <label class="wpea-label" for="stock">In Stock</label>
                <input id="stock" class="wpea-input" type="number" value="120" />
              </div>
              <div class="wpea-field">
                <label class="wpea-label" for="wh">Warehouse</label>
                <select id="wh" class="wpea-select">
                  <option>Main</option>
                  <option>EU</option>
                </select>
              </div>
              <div class="wpea-field">
                <label class="wpea-label" for="reorder">Reorder Level</label>
                <input id="reorder" class="wpea-input" type="number" value="20" />
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- FOOTER CARD -->
      <section class="wpea-card">
        <div class="wpea-card__title">Need help?</div>
        <div class="wpea-card__sub">Check the docs or contact support.</div>
        <div class="wpea-card__actions">
          <button class="wpea-btn wpea-btn--ghost">Documentation</button>
          <button class="wpea-btn wpea-btn--secondary">Contact Support</button>
        </div>
      </section>
    </main>
  </div>

  <!-- Demo JS: dark mode & compact toggles, switch behavior -->
  <script>
    (function () {
      const btnDark = document.getElementById('btn-dark');
      const btnCompact = document.getElementById('btn-compact');
      const badgeDensity = document.getElementById('badge-density');
      const badgeTheme = document.getElementById('badge-theme');
      const shell = document.body; // .wpea lives on body

      function isDark() { return shell.classList.contains('wpea-dark'); }
      function getDensity() { return (shell.style.getPropertyValue('--wpea-density') || 'comfy').trim(); }
      function setDensity(v) { shell.style.setProperty('--wpea-density', v); }

      function updateBadges() {
        if (badgeTheme)  badgeTheme.textContent  = 'Theme: ' + (isDark() ? 'dark' : 'light');
        if (badgeDensity) badgeDensity.textContent = 'Density: ' + (getDensity() || 'comfy');
      }

      if (btnDark) btnDark.addEventListener('click', () => {
        shell.classList.toggle('wpea-dark');
        updateBadges();
      });

      if (btnCompact) btnCompact.addEventListener('click', () => {
        setDensity(getDensity() === 'compact' ? 'comfy' : 'compact');
        updateBadges();
      });

      // Switch toggles
      document.querySelectorAll('.wpea-switch').forEach(sw => {
        const toggle = () => sw.setAttribute('aria-checked', sw.getAttribute('aria-checked') === 'true' ? 'false' : 'true');
        sw.addEventListener('click', toggle);
        sw.addEventListener('keydown', (e) => {
          if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); toggle(); }
        });
      });

      updateBadges();
    })();
  </script>
</body>
</html>
